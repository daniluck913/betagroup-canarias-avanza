<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Formularios - Canarias Avanza</title>
  <link rel="icon" type="image/png" sizes="32x32" href="https://www.canariasavanza.com/wp-content/uploads/2025/09/cropped-GESPROTUR-favicon-web-32x32.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            amarillo: '#FBBD14',
            naranja: '#E8851E',
            azul: '#009AD5',
            azuloscuro: '#253777'
          }
        }
      }
    }
  </script>
  <style>
    .form-container iframe {
      min-height: 700px;
    }
  </style>
</head>
<body class="font-sans text-gray-800">
  <!-- Header -->
  <div id="header-placeholder"></div>

  <!-- Hero Section -->
  <section class="bg-gradient-to-r from-azuloscuro to-azul text-white py-12">
    <div class="w-full px-4 md:px-6">
      <div class="w-full space-y-4">
        <div class="bg-white bg-opacity-10 rounded-lg p-4 md:p-6 text-left">
          <h2 class="text-base md:text-lg font-bold mb-3">PARTICIPA EN LA EVALUACI√ìN</h2>
          <p class="text-xs md:text-sm leading-relaxed">
            Este proyecto tiene como finalidad construir una herramienta digital de diagn√≥stico de sostenibilidad social en el sector tur√≠stico de Canarias, que recoja tambi√©n la visi√≥n de las empresas. Tu participaci√≥n es clave para conocer c√≥mo se est√°n aplicando principios de sostenibilidad en la gesti√≥n, el empleo, la igualdad de oportunidades, la accesibilidad, la vivienda vacacional, la fiscalidad y la responsabilidad social corporativa. Con tu colaboraci√≥n, podr√°s solicitar un certificado que reconozca tu aporte al proyecto. Asimismo, al cierre del proceso se compartir√° un informe con los resultados agregados, construido a partir de todas las respuestas recibidas.
          </p>
        </div>

        <div class="bg-white bg-opacity-10 rounded-lg p-4 md:p-6 text-left">
          <h2 class="text-base md:text-lg font-bold mb-3">PROTECCI√ìN DE TUS DATOS Y CERTIFICACI√ìN DE T√ö PARTICIPACI√ìN</h2>
          <p class="text-xs md:text-sm leading-relaxed">
            <strong>Responsable del tratamiento:</strong> GESPROTUR, S.A.U. MP con NIF A A35245786 y direcci√≥n electr√≥nica <a href="https://gesprotur.com/" target="_blank" class="underline hover:text-amarillo">https://gesprotur.com/</a>: <strong>Finalidad:</strong> (i) Desarrollo del proyecto de diagn√≥stico y an√°lisis participativo de sostenibilidad tur√≠stica en el territorio, orientado a la elaboraci√≥n, validaci√≥n y mejora de una herramienta t√©cnica de apoyo para la toma de decisiones en el sector. (ii) Envi√≥ de informes y certificados de participaci√≥n en caso de aceptaci√≥n. <strong>Principios aplicados y base legitimadora:</strong> Se aplica el principio de minimizaci√≥n de datos y privacidad desde el dise√±o de la herramienta, recogiendo √∫nicamente la informaci√≥n imprescindible, lo que significa que lo se recopilan datos personales de modo directo, ni se analizan de modo alguno, el √∫nico dato personal que puede ser objeto de tratamiento es el vinculado a la IP del dispositivo y el correo electr√≥nico que nos proporcione para recibir el informe de diagn√≥stico resultante de la herramienta. Las entrevistas realizadas ser√°n conservadas bloqueadas a efectos de justificaci√≥n del proyecto durante 5 a√±os (i) Inter√©s p√∫blico. (ii) Consentimiento del interesado <strong>Destinatarios:</strong> Toda la informaci√≥n ser√° tratada y conservada dentro de los sistemas inform√°ticos de Gesprotur √∫nicamente, no se usan herramientas de an√°lisis Big Data ni Inteligencia Artificial que utilicen o puedan acceder a los datos personales obtenidos en el marco del presente proyecto. <strong>Ejercicio de derechos e informaci√≥n adicional:</strong> <a href="mailto:dpd@gesprotur.com" class="underline hover:text-amarillo">dpd@gesprotur.com</a>, <a href="https://gesprotur.com/politica-de-privacidad/" target="_blank" class="underline hover:text-amarillo">https://gesprotur.com/politica-de-privacidad/</a>.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Selector de Formularios -->
  <section class="py-16 bg-white">
    <div class="container mx-auto px-6 max-w-6xl">
      <h2 class="text-3xl font-bold text-azuloscuro mb-8 text-center">Selecciona tu perfil</h2>
      <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">
        Elige el formulario que corresponda a tu perfil y comparte tu experiencia. Tu participaci√≥n nos ayuda a mejorar el impacto social del turismo en Canarias.
      </p>

      <!-- Botones de Formularios -->
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
        <button onclick="showForm('empresarios')" class="form-btn bg-white border-2 border-azul p-6 rounded-lg hover:bg-azul hover:text-white transition group">
          <div class="text-4xl mb-3">üëî</div>
          <h3 class="text-xl font-bold text-azuloscuro group-hover:text-white mb-2">Empresarios</h3>
          <p class="text-sm text-gray-600 group-hover:text-white">Del sector tur√≠stico</p>
        </button>

        <button onclick="showForm('turistas')" class="form-btn bg-white border-2 border-azul p-6 rounded-lg hover:bg-azul hover:text-white transition group">
          <div class="text-4xl mb-3">‚úàÔ∏è</div>
          <h3 class="text-xl font-bold text-azuloscuro group-hover:text-white mb-2">Turistas</h3>
          <p class="text-sm text-gray-600 group-hover:text-white">Visitantes de Canarias</p>
        </button>

        <button onclick="showForm('trabajadores')" class="form-btn bg-white border-2 border-azul p-6 rounded-lg hover:bg-azul hover:text-white transition group">
          <div class="text-4xl mb-3">üë•</div>
          <h3 class="text-xl font-bold text-azuloscuro group-hover:text-white mb-2">Trabajadores</h3>
          <p class="text-sm text-gray-600 group-hover:text-white">Del sector tur√≠stico</p>
        </button>

        <button onclick="showForm('residentes')" class="form-btn bg-white border-2 border-azul p-6 rounded-lg hover:bg-azul hover:text-white transition group">
          <div class="text-4xl mb-3">üèòÔ∏è</div>
          <h3 class="text-xl font-bold text-azuloscuro group-hover:text-white mb-2">Residentes</h3>
          <p class="text-sm text-gray-600 group-hover:text-white">De las Islas Canarias</p>
        </button>

        <button onclick="showForm('administraciones')" class="form-btn bg-white border-2 border-azul p-6 rounded-lg hover:bg-azul hover:text-white transition group">
          <div class="text-4xl mb-3">üèõÔ∏è</div>
          <h3 class="text-xl font-bold text-azuloscuro group-hover:text-white mb-2">Administraciones</h3>
          <p class="text-sm text-gray-600 group-hover:text-white">P√∫blicas</p>
        </button>
      </div>

      <!-- Contenedor de Formularios -->
      <div id="form-wrapper" class="hidden">
        <div class="mb-6 flex justify-between items-center">
          <h3 id="form-title" class="text-2xl font-bold text-azuloscuro"></h3>
          <div class="flex gap-2">
            <button onclick="toggleFullscreen()" class="bg-azul text-white px-4 py-2 rounded-lg hover:bg-azuloscuro transition flex items-center gap-2">
              <span id="fullscreen-icon">‚õ∂</span>
              <span id="fullscreen-text">Pantalla Completa</span>
            </button>
            <button onclick="hideForm()" class="bg-gray-200 px-4 py-2 rounded-lg text-azuloscuro hover:bg-gray-300 transition">‚Üê Volver a la selecci√≥n</button>
          </div>
        </div>

        <!-- Empresarios -->
        <div id="form-empresarios" class="form-container hidden">
          <div class="bg-white rounded-lg shadow-lg p-4">
            <iframe
              id="iframe-empresarios"
              width="100%"
              height="100vh"
              src="https://forms.office.com/Pages/ResponsePage.aspx?id=zo6qncDwLkehcjdix6Njb9_d2MWNwVJEm8zUYM4Zha1UMlBFM1NLNTU5MzZIR082V0dTVThWNVlONy4u&embed=true"
              frameborder="0"
              marginwidth="0"
              marginheight="0"
              style="border: none; max-width:100%; max-height:100vh; min-width:350px; min-height:480px"
              allowfullscreen
              webkitallowfullscreen
              mozallowfullscreen
              msallowfullscreen>
            </iframe>
          </div>
        </div>

        <!-- Turistas -->
        <div id="form-turistas" class="form-container hidden">
          <div class="bg-white rounded-lg shadow-lg p-4">
            <iframe
              id="iframe-turistas"
              width="100%"
              height="100vh"
              src="https://forms.office.com/Pages/ResponsePage.aspx?id=zo6qncDwLkehcjdix6Njb9_d2MWNwVJEm8zUYM4Zha1UQkMyVlVQNlBJUE1DR0dRRzdZNTZBRk01NS4u&embed=true"
              frameborder="0"
              marginwidth="0"
              marginheight="0"
              style="border: none; max-width:100%; max-height:100vh; min-width:350px; min-height:480px"
              allowfullscreen
              webkitallowfullscreen
              mozallowfullscreen
              msallowfullscreen>
            </iframe>
          </div>
        </div>

        <!-- Trabajadores -->
        <div id="form-trabajadores" class="form-container hidden">
          <div class="bg-white rounded-lg shadow-lg p-4">
            <iframe
              id="iframe-trabajadores"
              width="100%"
              height="100vh"
              src="https://forms.office.com/Pages/ResponsePage.aspx?id=zo6qncDwLkehcjdix6Njb9_d2MWNwVJEm8zUYM4Zha1UQzNROVlUQlJSUkxLV00xR1MxNjhCSjAxVS4u&embed=true"
              frameborder="0"
              marginwidth="0"
              marginheight="0"
              style="border: none; max-width:100%; max-height:100vh; min-width:350px; min-height:480px"
              allowfullscreen
              webkitallowfullscreen
              mozallowfullscreen
              msallowfullscreen>
            </iframe>
          </div>
        </div>

        <!-- Residentes -->
        <div id="form-residentes" class="form-container hidden">
          <div class="bg-white rounded-lg shadow-lg p-4">
            <iframe
              id="iframe-residentes"
              width="100%"
              height="100vh"
              src="https://forms.office.com/Pages/ResponsePage.aspx?id=zo6qncDwLkehcjdix6Njb9_d2MWNwVJEm8zUYM4Zha1UNFYzNjg5SzI0SVQ5QTFGR1EwMERDSFhFRy4u&embed=true"
              frameborder="0"
              marginwidth="0"
              marginheight="0"
              style="border: none; max-width:100%; max-height:100vh; min-width:350px; min-height:480px"
              allowfullscreen
              webkitallowfullscreen
              mozallowfullscreen
              msallowfullscreen>
            </iframe>
          </div>
        </div>

        <!-- Administraciones -->
        <div id="form-administraciones" class="form-container hidden">
          <div class="bg-white rounded-lg shadow-lg p-4">
            <iframe
              id="iframe-administraciones"
              width="100%"
              height="100vh"
              src="https://forms.office.com/Pages/ResponsePage.aspx?id=zo6qncDwLkehcjdix6Njb9_d2MWNwVJEm8zUYM4Zha1UOUs4UjFGNU41MUNIUDhaRlJVRllNM0NCVy4u&embed=true"
              frameborder="0"
              marginwidth="0"
              marginheight="0"
              style="border: none; max-width:100%; max-height:100vh; min-width:350px; min-height:480px"
              allowfullscreen
              webkitallowfullscreen
              mozallowfullscreen
              msallowfullscreen>
            </iframe>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <div id="footer-placeholder"></div>

  <script src="js/main.js"></script>
  <script>
    const formTitles = {
      empresarios: 'Formulario para Empresarios',
      turistas: 'Formulario para Turistas',
      trabajadores: 'Formulario para Trabajadores',
      residentes: 'Formulario para Residentes',
      administraciones: 'Formulario para Administraciones P√∫blicas'
    };

    function showForm(formType) {
      // Hide all forms
      document.querySelectorAll('.form-container').forEach(form => {
        form.classList.add('hidden');
      });

      // Show wrapper and selected form
      document.getElementById('form-wrapper').classList.remove('hidden');
      const selectedForm = document.getElementById('form-' + formType);
      selectedForm.classList.remove('hidden');
      document.getElementById('form-title').textContent = formTitles[formType];

      // Reload iframe to fix display issues when switching between forms
      const iframe = selectedForm.querySelector('iframe');
      if (iframe) {
        const src = iframe.src;
        iframe.src = '';
        setTimeout(() => {
          iframe.src = src;
        }, 10);
      }

      // Scroll to form
      document.getElementById('form-wrapper').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function hideForm() {
      document.getElementById('form-wrapper').classList.add('hidden');
      document.querySelectorAll('.form-container').forEach(form => {
        form.classList.add('hidden');
      });
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    let isMaximized = false;

    function toggleFullscreen() {
      // Get the currently visible iframe
      const visibleForm = document.querySelector('.form-container:not(.hidden)');
      if (!visibleForm) return;

      const iframe = visibleForm.querySelector('iframe');
      if (!iframe) return;

      // Check if device is mobile/iOS
      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

      if (isMobile) {
        // For mobile: toggle maximized state with CSS
        if (!isMaximized) {
          iframe.style.position = 'fixed';
          iframe.style.top = '0';
          iframe.style.left = '0';
          iframe.style.width = '100vw';
          iframe.style.height = '100vh';
          iframe.style.zIndex = '9999';
          isMaximized = true;

          // Create close button for mobile
          const closeBtn = document.createElement('button');
          closeBtn.id = 'mobile-close-btn';
          closeBtn.innerHTML = '√ó Cerrar';
          closeBtn.style.position = 'fixed';
          closeBtn.style.top = '10px';
          closeBtn.style.right = '10px';
          closeBtn.style.zIndex = '10000';
          closeBtn.style.backgroundColor = '#253777';
          closeBtn.style.color = 'white';
          closeBtn.style.border = 'none';
          closeBtn.style.padding = '12px 20px';
          closeBtn.style.borderRadius = '8px';
          closeBtn.style.fontSize = '16px';
          closeBtn.style.fontWeight = 'bold';
          closeBtn.style.cursor = 'pointer';
          closeBtn.style.boxShadow = '0 4px 6px rgba(0,0,0,0.3)';
          closeBtn.onclick = toggleFullscreen;
          document.body.appendChild(closeBtn);

          updateFullscreenButton();
        } else {
          iframe.style.position = '';
          iframe.style.top = '';
          iframe.style.left = '';
          iframe.style.width = '';
          iframe.style.height = '';
          iframe.style.zIndex = '';
          isMaximized = false;

          // Remove close button
          const closeBtn = document.getElementById('mobile-close-btn');
          if (closeBtn) {
            closeBtn.remove();
          }

          updateFullscreenButton();
        }
      } else {
        // For desktop: use native fullscreen API
        if (!document.fullscreenElement) {
          // Enter fullscreen
          if (iframe.requestFullscreen) {
            iframe.requestFullscreen();
          } else if (iframe.webkitRequestFullscreen) {
            iframe.webkitRequestFullscreen();
          } else if (iframe.mozRequestFullScreen) {
            iframe.mozRequestFullScreen();
          } else if (iframe.msRequestFullscreen) {
            iframe.msRequestFullscreen();
          }
        } else {
          // Exit fullscreen
          if (document.exitFullscreen) {
            document.exitFullscreen();
          } else if (document.webkitExitFullscreen) {
            document.webkitExitFullscreen();
          } else if (document.mozCancelFullScreen) {
            document.mozCancelFullScreen();
          } else if (document.msExitFullscreen) {
            document.msExitFullscreen();
          }
        }
      }
    }

    // Update button text when fullscreen changes
    document.addEventListener('fullscreenchange', updateFullscreenButton);
    document.addEventListener('webkitfullscreenchange', updateFullscreenButton);
    document.addEventListener('mozfullscreenchange', updateFullscreenButton);
    document.addEventListener('msfullscreenchange', updateFullscreenButton);

    function updateFullscreenButton() {
      const icon = document.getElementById('fullscreen-icon');
      const text = document.getElementById('fullscreen-text');
      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

      if (isMobile) {
        // Mobile: use maximized state
        if (isMaximized) {
          icon.textContent = '‚õ∂';
          text.textContent = 'Salir Maximizado';
        } else {
          icon.textContent = '‚õ∂';
          text.textContent = 'Maximizar';
        }
      } else {
        // Desktop: use fullscreen state
        if (document.fullscreenElement) {
          icon.textContent = '‚õ∂';
          text.textContent = 'Salir Pantalla Completa';
        } else {
          icon.textContent = '‚õ∂';
          text.textContent = 'Pantalla Completa';
        }
      }
    }
  </script>
</body>
</html>
